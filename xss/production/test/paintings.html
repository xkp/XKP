<!DOCTYPE html>
<html>
<head>
<title>danydenis.com</title>
</head>
<body>
<style type="text/css">
	body{
	background:Black;
	}
</style>
<script type="text/javascript" src="../js/jquery-1.4.2.min.js" ></script>
<script type="text/javascript" src="../js/jquery.utils.js"></script>
<script type="text/javascript" src="../js/utils.js"></script>
<script type="text/javascript" src="../js/prototype.js"></script>
<script type="text/javascript" src="../js/ms-event.js"></script>
<script type="text/javascript" src="../js/keys.js"></script>
<script type="text/javascript" src="../js/colors.js"></script>
<script type="text/javascript" src="../js/ms-streamer.js"></script>
		<script type="text/javascript" src="../js/ms-sequence.js"></script>
		<script type="text/javascript" src="../js/ms-streamer.js"></script>
		<script type="text/javascript" src="../js/ms-ui.js"></script>
		<script type="text/javascript" src="../js/three/Three.js"></script>
		<script type="text/javascript" src="../js/three/Stats.js"></script>
		<script type="text/javascript" src="../js/three/RequestAnimationFrame.js"></script>
		<script type="text/javascript" src="../js/three/Utils.js"></script>
<script type="text/javascript">		
var renderer = new THREE.CanvasRenderer();	
var ui;
var SoundUtils;
var active_camera;
var g_elapsed = -1;
var g_delta = 0.0;	
var drawingCanvas = renderer.domElement;
var canvas_position = {x:0, y:0};
var streamer = new ms.streamer.Streamer();
var app_width = 1000;
var app_height = 800;
var plane_anim;var quickly_anim;var alpha_anim;var idle_anim;var show_me;var back_to;var grow_plane;var shrink_plane;var init_anim;var init_anim2;var rain;var go_up;var loading_seq;var idle_load;var enterto_in;var liquid;var banner;var loading;var enter_to;var lens1;var lens2;var facebook;var twitter;var email;var btn1;var btn2;var linetop;var line1;var line2;var line3;var line4;var rect1;
var application = {};
application.events = new ms.event.EventHolder();
		var g_sequence_manager = new ms.state.Manager();
        function default_interpolate(a, b, t)
        {
            return a + (b - a)*t;
        }		
		var streamer = new ms.streamer.Streamer();	
		var ResourceUtils = new ms.streamer.ResourceUtils();
		if(drawingCanvas){
			var client =
			{
				width: 1000,
				height: 800,
				canvas: drawingCanvas
			};
            var streamer = new ms.streamer.Streamer();							
			var ui = new ms.ui.Manager(client, streamer);			
			var g_ui = ui;
			var g_ui_root = ui.root;
			var mouse_pressed = false;
		}
	// --------RESOURCES---------
		var global_package = new ms.streamer.Package(streamer);	
                global_package.add_item(
            {
		id:				"__image1",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/banner.png",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});	
				var __image1;
				global_package.events.addListener("loaded", function()
				{
					__image1 = streamer.get_resource("__image1");
				});
                global_package.add_item(
            {
		id:				"__image2",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/lente1.png",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});	
				var __image2;
				global_package.events.addListener("loaded", function()
				{
					__image2 = streamer.get_resource("__image2");
				});
                global_package.add_item(
            {
		id:				"__image3",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/lente2.png",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});	
				var __image3;
				global_package.events.addListener("loaded", function()
				{
					__image3 = streamer.get_resource("__image3");
				});
                global_package.add_item(
            {
		id:				"__image4",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/facebook.png",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});	
				var __image4;
				global_package.events.addListener("loaded", function()
				{
					__image4 = streamer.get_resource("__image4");
				});
                global_package.add_item(
            {
		id:				"__image5",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/twitter.png",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});	
				var __image5;
				global_package.events.addListener("loaded", function()
				{
					__image5 = streamer.get_resource("__image5");
				});
                global_package.add_item(
            {
		id:				"__image6",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/loading.png",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});	
				var __image6;
				global_package.events.addListener("loaded", function()
				{
					__image6 = streamer.get_resource("__image6");
				});
                global_package.add_item(
            {
		id:				"__image7",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/enter.png",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});	
				var __image7;
				global_package.events.addListener("loaded", function()
				{
					__image7 = streamer.get_resource("__image7");
				});
                global_package.add_item(
            {
		id:				"__image8",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/boxdef.jpg",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});	
				var __image8;
				global_package.events.addListener("loaded", function()
				{
					__image8 = streamer.get_resource("__image8");
				});
                global_package.add_item(
            {
		id:				"__image9",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/arrow_up.png",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});	
				var __image9;
				global_package.events.addListener("loaded", function()
				{
					__image9 = streamer.get_resource("__image9");
				});
                global_package.add_item(
            {
		id:				"__image10",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/arrow_down.png",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});	
				var __image10;
				global_package.events.addListener("loaded", function()
				{
					__image10 = streamer.get_resource("__image10");
				});
                global_package.add_item(
            {
		id:				"__image11",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/photobucket.png",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});	
				var __image11;
				global_package.events.addListener("loaded", function()
				{
					__image11 = streamer.get_resource("__image11");
				});
                global_package.add_item(
            {
		id:				"__audio1",
		resource_type:	RESOURCE_AUDIO,
		src:			"sounds/water-droplet-1.mp3",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});	
				var __audio1;
				global_package.events.addListener("loaded", function()
				{
					__audio1 = streamer.get_resource("__audio1");
				});
				var everybody_pack = new ms.streamer.Package(streamer);				
	var ev_parent = this;
	everybody_pack.events.addListener("loaded", function()
	{    
		loading_seq.stop();
idle_load.stop();
loading.setVisible(false);
enter_to.setVisible(true);
enterto_in.start();
if (application.waiting_for_load)
{
init_anim.stop();
init_anim2.stop();
line1.setVisible(false);
line2.setVisible(false);
line3.setVisible(false);
line4.setVisible(false);
rect1.setVisible(true);
go_up.start();
enter_to.setVisible(false);
application.init_planes();
}
	}
	);
		application.are_obj_events = true;
                everybody_pack.add_item(
            {
		id:				"art_title",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/art.png",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});
				var art_title;
				everybody_pack.events.addListener("loaded", function()
				{
					art_title = streamer.get_resource("art_title");
				});
                everybody_pack.add_item(
            {
		id:				"a1",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/Arte/a1.jpg",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});
				var a1;
				everybody_pack.events.addListener("loaded", function()
				{
					a1 = streamer.get_resource("a1");
				});
                everybody_pack.add_item(
            {
		id:				"a2",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/Arte/a2.jpg",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});
				var a2;
				everybody_pack.events.addListener("loaded", function()
				{
					a2 = streamer.get_resource("a2");
				});
                everybody_pack.add_item(
            {
		id:				"a3",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/Arte/a3.jpg",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});
				var a3;
				everybody_pack.events.addListener("loaded", function()
				{
					a3 = streamer.get_resource("a3");
				});
                everybody_pack.add_item(
            {
		id:				"a4",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/Arte/a4.jpg",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});
				var a4;
				everybody_pack.events.addListener("loaded", function()
				{
					a4 = streamer.get_resource("a4");
				});
                everybody_pack.add_item(
            {
		id:				"a5",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/Arte/a5.jpg",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});
				var a5;
				everybody_pack.events.addListener("loaded", function()
				{
					a5 = streamer.get_resource("a5");
				});
                everybody_pack.add_item(
            {
		id:				"a6",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/Arte/a6.jpg",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});
				var a6;
				everybody_pack.events.addListener("loaded", function()
				{
					a6 = streamer.get_resource("a6");
				});
                everybody_pack.add_item(
            {
		id:				"a7",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/Arte/a7.jpg",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});
				var a7;
				everybody_pack.events.addListener("loaded", function()
				{
					a7 = streamer.get_resource("a7");
				});
                everybody_pack.add_item(
            {
		id:				"a8",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/Arte/a8.jpg",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});
				var a8;
				everybody_pack.events.addListener("loaded", function()
				{
					a8 = streamer.get_resource("a8");
				});
                everybody_pack.add_item(
            {
		id:				"forms_title",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/forms.png",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});
				var forms_title;
				everybody_pack.events.addListener("loaded", function()
				{
					forms_title = streamer.get_resource("forms_title");
				});
                everybody_pack.add_item(
            {
		id:				"f1",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/Formas/f1.jpg",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});
				var f1;
				everybody_pack.events.addListener("loaded", function()
				{
					f1 = streamer.get_resource("f1");
				});
                everybody_pack.add_item(
            {
		id:				"f2",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/Formas/f2.jpg",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});
				var f2;
				everybody_pack.events.addListener("loaded", function()
				{
					f2 = streamer.get_resource("f2");
				});
                everybody_pack.add_item(
            {
		id:				"f3",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/Formas/f3.jpg",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});
				var f3;
				everybody_pack.events.addListener("loaded", function()
				{
					f3 = streamer.get_resource("f3");
				});
                everybody_pack.add_item(
            {
		id:				"f4",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/Formas/f4.jpg",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});
				var f4;
				everybody_pack.events.addListener("loaded", function()
				{
					f4 = streamer.get_resource("f4");
				});
                everybody_pack.add_item(
            {
		id:				"f5",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/Formas/f5.jpg",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});
				var f5;
				everybody_pack.events.addListener("loaded", function()
				{
					f5 = streamer.get_resource("f5");
				});
                everybody_pack.add_item(
            {
		id:				"f6",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/Formas/f6.jpg",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});
				var f6;
				everybody_pack.events.addListener("loaded", function()
				{
					f6 = streamer.get_resource("f6");
				});
                everybody_pack.add_item(
            {
		id:				"f7",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/Formas/f7.jpg",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});
				var f7;
				everybody_pack.events.addListener("loaded", function()
				{
					f7 = streamer.get_resource("f7");
				});
                everybody_pack.add_item(
            {
		id:				"f8",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/Formas/f8.jpg",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});
				var f8;
				everybody_pack.events.addListener("loaded", function()
				{
					f8 = streamer.get_resource("f8");
				});
                everybody_pack.add_item(
            {
		id:				"times_title",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/times.png",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});
				var times_title;
				everybody_pack.events.addListener("loaded", function()
				{
					times_title = streamer.get_resource("times_title");
				});
                everybody_pack.add_item(
            {
		id:				"t1",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/Tiempos/t1.jpg",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});
				var t1;
				everybody_pack.events.addListener("loaded", function()
				{
					t1 = streamer.get_resource("t1");
				});
                everybody_pack.add_item(
            {
		id:				"t2",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/Tiempos/t2.jpg",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});
				var t2;
				everybody_pack.events.addListener("loaded", function()
				{
					t2 = streamer.get_resource("t2");
				});
                everybody_pack.add_item(
            {
		id:				"t3",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/Tiempos/t3.jpg",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});
				var t3;
				everybody_pack.events.addListener("loaded", function()
				{
					t3 = streamer.get_resource("t3");
				});
                everybody_pack.add_item(
            {
		id:				"t4",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/Tiempos/t4.jpg",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});
				var t4;
				everybody_pack.events.addListener("loaded", function()
				{
					t4 = streamer.get_resource("t4");
				});
                everybody_pack.add_item(
            {
		id:				"t5",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/Tiempos/t5.jpg",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});
				var t5;
				everybody_pack.events.addListener("loaded", function()
				{
					t5 = streamer.get_resource("t5");
				});
                everybody_pack.add_item(
            {
		id:				"t6",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/Tiempos/t6.jpg",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});
				var t6;
				everybody_pack.events.addListener("loaded", function()
				{
					t6 = streamer.get_resource("t6");
				});
                everybody_pack.add_item(
            {
		id:				"t7",
		resource_type:	RESOURCE_IMAGE,
		src:			"images/pictures/Tiempos/t7.jpg",
		frame_width:	null,
		frame_height:	null,
		animations:		[]
});
				var t7;
				everybody_pack.events.addListener("loaded", function()
				{
					t7 = streamer.get_resource("t7");
				});
		global_package.add_item({
			id:				"invalid_res",
			resource_type:	RESOURCE_IMAGE,
			src:			"images/no_res.png",
			frame_width:	null,
			frame_height:	null,
			animations:		[]
		});		
		global_package.load();	
    // --------RESOURCES---------
soundRenderer = new THREE.SoundRenderer();		
document.body.appendChild( soundRenderer.domElement );
renderer.setSize( app_width, app_height );
function render() {
canvas_position = getElementPosition(drawingCanvas);
var now   = new Date().getTime();
if (g_elapsed < 0)
    g_delta = 0; //first update
else
g_delta  = now - g_elapsed;  
g_elapsed = now; 
		g_sequence_manager.update(g_delta);
application.events.dispatch("updates", []);	
		set_active_camera(camera_1);
application.events.dispatch("switch_cameras", []);
}
var anim_plane;var scene;var camera_1;
            social_button = Class.create(ms.ui.Image,
        {
    initialize: function($super
                , manager
                , parent
                , src
                )
    {
        $super(
        manager,parent,src        );
        this.events = new ms.event.EventHolder(); 
        var this__  = this;
this.grow =
new ms.state.Sequence(
g_sequence_manager);
        var ____i1 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                this__.set_x(value);
            },
            [
        {t: 0, value: null},
        {t: 0.300000012, value: null},
            ]);
            this.grow.addHandler(____i1);	              
        var ____i2 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                this__.set_y(value);
            },
            [
        {t: 0, value: null},
        {t: 0.300000012, value: null},
            ]);
            this.grow.addHandler(____i2);	              
        var ____i3 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                this__.set_width(value);
            },
            [
        {t: 0, value: null},
        {t: 0.300000012, value: 32},
            ]);
            this.grow.addHandler(____i3);	              
        var ____i4 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                this__.set_height(value);
            },
            [
        {t: 0, value: null},
        {t: 0.300000012, value: 32},
            ]);
            this.grow.addHandler(____i4);	              
        this.grow.events.addListener('start', function()
        {
        ____i1.keys[0].value = this__.x;
        ____i1.keys[1].value = this__.ox - 4;
        ____i2.keys[0].value = this__.y;
        ____i2.keys[1].value = this__.oy - 4;
        ____i3.keys[0].value = this__.get_width();
        ____i4.keys[0].value = this__.get_height();
        });
this.shrink =
new ms.state.Sequence(
g_sequence_manager);
        var ____i5 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                this__.set_x(value);
            },
            [
        {t: 0, value: null},
        {t: 0.300000012, value: null},
            ]);
            this.shrink.addHandler(____i5);	              
        var ____i6 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                this__.set_y(value);
            },
            [
        {t: 0, value: null},
        {t: 0.300000012, value: null},
            ]);
            this.shrink.addHandler(____i6);	              
        var ____i7 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                this__.set_width(value);
            },
            [
        {t: 0, value: null},
        {t: 0.300000012, value: 24},
            ]);
            this.shrink.addHandler(____i7);	              
        var ____i8 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                this__.set_height(value);
            },
            [
        {t: 0, value: null},
        {t: 0.300000012, value: 24},
            ]);
            this.shrink.addHandler(____i8);	              
        this.shrink.events.addListener('start', function()
        {
        ____i5.keys[0].value = this__.x;
        ____i5.keys[1].value = this__.ox;
        ____i6.keys[0].value = this__.y;
        ____i6.keys[1].value = this__.oy;
        ____i7.keys[0].value = this__.get_width();
        ____i8.keys[0].value = this__.get_height();
        });
            this.ox = null;
            this.oy = null;
	var ev_parent = this;
	this.events.addListener("mousein", function()
	{    
		ev_parent.ox = ev_parent.x;
ev_parent.oy = ev_parent.y;
ev_parent.shrink.stop();
ev_parent.grow.start();
	}
	);
		application.are_obj_events = true;
	var ev_parent = this;
	this.events.addListener("mouseout", function()
	{    
		ev_parent.grow.stop();
ev_parent.shrink.start();
	}
	);
		application.are_obj_events = true;
            if (this.init)
                this.init();
            },
});
        function create_anim_plane(
    width,height,x_segments,y_segments ) { 
    var anim_plane;
	    anim_plane_plane = 
		new THREE.Plane(width, height, x_segments, y_segments) ;
	    anim_plane = new THREE.Mesh(anim_plane_plane, new THREE.MeshBasicMaterial());
	    scene.addObject(anim_plane);
		anim_plane.events = new ms.event.EventHolder();
        var this__ = anim_plane;
            var plane_anim;
plane_anim =
new ms.state.Sequence(
g_sequence_manager);
        var ____i9 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                this__.position.x = value;
            },
            [
        {t: 0, value: null},
        {t: 8, value: null},
            ]);
            plane_anim.addHandler(____i9);	              
        var ____i10 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                this__.position.y = value;
            },
            [
        {t: 0, value: null},
        {t: 8, value: null},
            ]);
            plane_anim.addHandler(____i10);	              
        var ____i11 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                set_rotation_y(this__.rotation, value);
            },
            [
        {t: 0, value: null},
        {t: 8, value: null},
            ]);
            plane_anim.addHandler(____i11);	              
        plane_anim.events.addListener('start', function()
        {
        ____i9.keys[0].value = this__.position.x;
        ____i9.keys[1].value = Math.random() * (this__.max_x - this__.min_x) + this__.min_x;
        ____i10.keys[0].value = this__.position.y;
        ____i10.keys[1].value = Math.random() * (this__.max_y - this__.min_y) + this__.min_y;
        ____i11.keys[0].value = get_rotation_y(this__.rotation);
        ____i11.keys[1].value = Math.random() * 60 - 30;
        });
            anim_plane.plane_anim = plane_anim;
            var quickly_anim;
quickly_anim =
new ms.state.Sequence(
g_sequence_manager);
        var ____i12 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                this__.position.x = value;
            },
            [
        {t: 0, value: null},
        {t: 2, value: null},
            ]);
            quickly_anim.addHandler(____i12);	              
        var ____i13 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                this__.position.y = value;
            },
            [
        {t: 0, value: null},
        {t: 2, value: null},
            ]);
            quickly_anim.addHandler(____i13);	              
        var ____i14 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                set_rotation_y(this__.rotation, value);
            },
            [
        {t: 0, value: null},
        {t: 2, value: null},
            ]);
            quickly_anim.addHandler(____i14);	              
        var ____r1 = new ms.state.Caller(2,function()
        {
                    plane_anim.start();
        });
        quickly_anim.addHandler(____r1);						  
        var ____r2 = new ms.state.Caller(2,function()
        {
                    idle_anim.start();
        });
        quickly_anim.addHandler(____r2);						  
        quickly_anim.events.addListener('start', function()
        {
        ____i12.keys[0].value = this__.position.x;
        ____i12.keys[1].value = Math.random() * (this__.max_x - this__.min_x) + this__.min_x;
        ____i13.keys[0].value = this__.position.y;
        ____i13.keys[1].value = Math.random() * (this__.max_y - this__.min_y) + this__.min_y;
        ____i14.keys[0].value = get_rotation_y(this__.rotation);
        ____i14.keys[1].value = Math.random() * 60 - 30;
        });
            anim_plane.quickly_anim = quickly_anim;
            var alpha_anim;
alpha_anim =
new ms.state.Sequence(
g_sequence_manager);
                alpha_anim.start();
        var ____i15 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                set_object_alpha(this__, value);
            },
            [
        {t: 0, value: 0},
        {t: 2, value: 100},
            ]);
            alpha_anim.addHandler(____i15);	              
            anim_plane.alpha_anim = alpha_anim;
            var idle_anim;
idle_anim =
new ms.state.Sequence(
g_sequence_manager);
        var ____h1 = new ms.state.Every(8, function(t)
        {
                    plane_anim.start();
        });
        idle_anim.addHandler(____h1);	                    
            anim_plane.idle_anim = idle_anim;
            var show_me;
show_me =
new ms.state.Sequence(
g_sequence_manager);
        var ____i16 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                this__.position.x = value;
            },
            [
        {t: 0, value: null},
        {t: 2, value: -55},
            ]);
            show_me.addHandler(____i16);	              
        var ____i17 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                this__.position.y = value;
            },
            [
        {t: 0, value: null},
        {t: 2, value: 50},
            ]);
            show_me.addHandler(____i17);	              
        var ____i18 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                this__.position.z = value;
            },
            [
        {t: 0, value: null},
        {t: 2, value: 100},
            ]);
            show_me.addHandler(____i18);	              
        var ____i19 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                this__.scale.x = value;
            },
            [
        {t: 0, value: null},
        {t: 2, value: 12},
            ]);
            show_me.addHandler(____i19);	              
        var ____i20 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                this__.scale.y = value;
            },
            [
        {t: 0, value: null},
        {t: 2, value: 12},
            ]);
            show_me.addHandler(____i20);	              
        var ____i21 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                this__.scale.z = value;
            },
            [
        {t: 0, value: null},
        {t: 2, value: 10},
            ]);
            show_me.addHandler(____i21);	              
        var ____i22 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                set_rotation_y(this__.rotation, value);
            },
            [
        {t: 0, value: null},
        {t: 2, value: 0},
            ]);
            show_me.addHandler(____i22);	              
        var ____i23 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                liquid.alpha(value);
            },
            [
        {t: 0, value: null},
        {t: 2, value: 0},
            ]);
            show_me.addHandler(____i23);	              
        var ____i24 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                btn1.alpha(value);
            },
            [
        {t: 0, value: 0},
        {t: 2, value: 100},
            ]);
            show_me.addHandler(____i24);	              
        var ____i25 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                btn2.alpha(value);
            },
            [
        {t: 0, value: 0},
        {t: 2, value: 100},
            ]);
            show_me.addHandler(____i25);	              
        show_me.events.addListener('start', function()
        {
        ____i16.keys[0].value = this__.position.x;
        ____i17.keys[0].value = this__.position.y;
        ____i18.keys[0].value = this__.position.z;
        ____i19.keys[0].value = this__.scale.x;
        ____i20.keys[0].value = this__.scale.y;
        ____i21.keys[0].value = this__.scale.z;
        ____i22.keys[0].value = get_rotation_y(this__.rotation);
        ____i23.keys[0].value = liquid.get_alpha();
        });
            anim_plane.show_me = show_me;
            var back_to;
back_to =
new ms.state.Sequence(
g_sequence_manager);
        var ____i26 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                this__.scale.x = value;
            },
            [
        {t: 0, value: 12},
        {t: 2, value: 2},
            ]);
            back_to.addHandler(____i26);	              
        var ____i27 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                this__.scale.y = value;
            },
            [
        {t: 0, value: 12},
        {t: 2, value: 2},
            ]);
            back_to.addHandler(____i27);	              
        var ____i28 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                this__.scale.z = value;
            },
            [
        {t: 0, value: 10},
        {t: 2, value: 0},
            ]);
            back_to.addHandler(____i28);	              
        var ____i29 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                this__.position.z = value;
            },
            [
        {t: 0, value: 100},
        {t: 2, value: 0},
            ]);
            back_to.addHandler(____i29);	              
        var ____i30 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                liquid.alpha(value);
            },
            [
        {t: 0, value: null},
        {t: 2, value: 50},
            ]);
            back_to.addHandler(____i30);	              
        var ____i31 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                btn1.alpha(value);
            },
            [
        {t: 0, value: 100},
        {t: 2, value: 0},
            ]);
            back_to.addHandler(____i31);	              
        var ____i32 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                btn2.alpha(value);
            },
            [
        {t: 0, value: 100},
        {t: 2, value: 0},
            ]);
            back_to.addHandler(____i32);	              
        var ____r3 = new ms.state.Caller(0,function()
        {
                    plane_anim.start();
        });
        back_to.addHandler(____r3);						  
        var ____r4 = new ms.state.Caller(0,function()
        {
                    idle_anim.start();
        });
        back_to.addHandler(____r4);						  
        back_to.events.addListener('start', function()
        {
        ____i30.keys[0].value = liquid.get_alpha();
        });
            anim_plane.back_to = back_to;
            anim_plane.max_x = null;
            anim_plane.min_x = null;
            anim_plane.max_y = null;
            anim_plane.min_y = null;
            anim_plane.parent_ = null;
            anim_plane.title = false;
	anim_plane.set_image = function(value) 
	{
		anim_plane.materials[0].map = new THREE.Texture(streamer.get_resource(value).data);
	};
	var ev_parent = this;
	anim_plane.events.addListener("mousein", function(x,y)
	{    
		application.selected = anim_plane;
if (application.phase == 2)
{
if (anim_plane.parent_ == application.group_zoomed)
{
if (!anim_plane.title)
{
anim_plane.scale.x = 3;
anim_plane.scale.y = 3;
anim_plane.scale.z = 3;
}
}
else
{
anim_plane.parent_.set_individual_scale(0.800000012);
}
liquid.disturb(x, y);
}
	}
	);
		application.are_obj_events = true;
	var ev_parent = this;
	anim_plane.events.addListener("mouseout", function()
	{    
		application.selected = false;
if (application.phase == 2)
{
if (anim_plane.parent_ == application.group_zoomed)
{
anim_plane.scale.x = 2;
anim_plane.scale.y = 2;
anim_plane.scale.z = 2;
}
else
{
if (application.art_planes != application.group_zoomed)
{
application.art_planes.set_individual_scale(0.699999988);
}
if (application.forms_planes != application.group_zoomed)
{
application.forms_planes.set_individual_scale(0.699999988);
}
if (application.times_planes != application.group_zoomed)
{
application.times_planes.set_individual_scale(0.699999988);
}
}
}
	}
	);
		application.are_obj_events = true;
        return anim_plane;
        }
        function create_planes_group(
     ) { 
    var planes_group;
			planes_group = new THREE.Object3D();
			planes_group.events = new ms.event.EventHolder();
        var this__ = planes_group;
            var grow_plane;
grow_plane =
new ms.state.Sequence(
g_sequence_manager);
        var ____i33 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                this__.group_scale_set(value);
            },
            [
        {t: 0, value: null},
        {t: 1, value: 1.5},
            ]);
            grow_plane.addHandler(____i33);	              
        grow_plane.events.addListener('start', function()
        {
        ____i33.keys[0].value = this__.group_scale;
        });
            planes_group.grow_plane = grow_plane;
            var shrink_plane;
shrink_plane =
new ms.state.Sequence(
g_sequence_manager);
        var ____i34 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                this__.group_scale_set(value);
            },
            [
        {t: 0, value: null},
        {t: 1, value: 1},
            ]);
            shrink_plane.addHandler(____i34);	              
        shrink_plane.events.addListener('start', function()
        {
        ____i34.keys[0].value = this__.group_scale;
        });
            planes_group.shrink_plane = shrink_plane;
            planes_group.selected = false;
            planes_group.plane_array = [];
        planes_group.images = null;
        planes_group.images_set = function (value)
        {
            planes_group.images = value;
            var resource;
for(var index = 0; index < this.images.length - 1; index++)
{
resource = streamer.get_resource(this.images[index]).data;
this.plane_array.push(
create_anim_plane(resource.naturalWidth / 13, resource.naturalHeight / 13, null, null)
);
this.plane_array[index].set_image(this.images[index]);
this.plane_array[index].parent_ = this;
}
resource = streamer.get_resource(this.images[this.images.length - 1]).data;
this.plane_array.push(
create_anim_plane(resource.naturalWidth, resource.naturalHeight, null, null)
);
this.plane_array[this.images.length - 1].set_image(this.images[this.images.length - 1]);
this.plane_array[this.images.length - 1].parent_ = this;
this.plane_array[this.images.length - 1].title = true;
        };
        planes_group.group_scale = null;
        planes_group.group_scale_set = function (value)
        {
            planes_group.group_scale = value;
            this.set_individual_scale(value);
        };
            planes_group.selected_ = false;
	planes_group.selected = function() 
	{
		if (planes_group.selected_)
{
return;
}
planes_group.selected_ = true;
shrink_plane.stop();
grow_plane.start();
	};
	planes_group.unselected = function() 
	{
		if (!planes_group.selected_)
{
return;
}
planes_group.selected_ = false;
shrink_plane.start();
grow_plane.stop();
	};
	planes_group.set_limits = function(min_x,max_x,min_y,max_y) 
	{
		for(var index = 0; index < planes_group.plane_array.length; index++)
{
if (index != planes_group.plane_array.length - 1)
{
planes_group.plane_array[index].min_x = min_x;
planes_group.plane_array[index].max_x = max_x;
planes_group.plane_array[index].min_y = min_y;
planes_group.plane_array[index].max_y = max_y;
planes_group.plane_array[index].plane_anim.stop();
planes_group.plane_array[index].idle_anim.stop();
planes_group.plane_array[index].quickly_anim.stop();
planes_group.plane_array[index].plane_anim.start();
planes_group.plane_array[index].idle_anim.start();
}
else
{
planes_group.plane_array[index].position.x = min_x + (max_x - min_x) / 2;
planes_group.plane_array[index].position.y = min_y + (min_y - max_y) / 4;
}
}
	};
	planes_group.set_limits_quickly = function(min_x,max_x,min_y,max_y) 
	{
		for(var index = 0; index < planes_group.plane_array.length; index++)
{
if (index != planes_group.plane_array.length - 1)
{
planes_group.plane_array[index].min_x = min_x;
planes_group.plane_array[index].max_x = max_x;
planes_group.plane_array[index].min_y = min_y;
planes_group.plane_array[index].max_y = max_y;
planes_group.plane_array[index].plane_anim.stop();
planes_group.plane_array[index].idle_anim.stop();
planes_group.plane_array[index].quickly_anim.stop();
planes_group.plane_array[index].quickly_anim.start();
}
else
{
planes_group.plane_array[index].position.x = min_x + (max_x - min_x) / 2;
planes_group.plane_array[index].position.y = min_y + (min_y - max_y) / 4;
}
}
	};
	planes_group.set_individual_scale = function(value) 
	{
		var pl_iterable = planes_group.plane_array;
for(var pl_iterator = 0; pl_iterator < pl_iterable.length; pl_iterator++)
{
var pl = pl_iterable[pl_iterator];
pl.scale.x = value;
pl.scale.y = value;
pl.scale.z = value;
}
	};
	planes_group.find = function(item) 
	{
		for(var index = 0; index < planes_group.plane_array.length; index++)
{
if (planes_group.plane_array[index] == item)
{
return index;
}
}
return -1;
	};
	planes_group.set_selected = function(value) 
	{
		if (value)
{
grow.start();
shrink.stop();
}
else
{
grow.stop();
shrink.start();
}
	};
        return planes_group;
        }
threejs_load_resources(function()
{
init_anim =
new ms.state.Sequence(
g_sequence_manager);
	init_anim.enter_if_loaded = function() 
	{
		if (everybody_pack.all_loaded)
{
init_anim.stop();
init_anim2.stop();
line1.setVisible(false);
line2.setVisible(false);
line3.setVisible(false);
line4.setVisible(false);
rect1.setVisible(true);
go_up.start();
enter_to.setVisible(false);
application.init_planes();
}
else
{
application.waiting_for_load = true;
}
	};
                init_anim.start();
        var ____i35 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                line1.set_x2(value);
            },
            [
        {t: 0, value: 200},
        {t: 1, value: 500},
            ]);
            init_anim.addHandler(____i35);	              
        var ____i36 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                linetop.set_x2(value);
            },
            [
        {t: 0, value: 5},
        {t: 4, value: 905},
            ]);
            init_anim.addHandler(____i36);	              
        var ____i37 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                line2.set_y2(value);
            },
            [
        {t: 1, value: 200},
        {t: 2, value: 500},
            ]);
            init_anim.addHandler(____i37);	              
        var ____i38 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                line3.set_x2(value);
            },
            [
        {t: 2, value: 500},
        {t: 3, value: 200},
            ]);
            init_anim.addHandler(____i38);	              
        var ____i39 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                line4.set_y2(value);
            },
            [
        {t: 3, value: 500},
        {t: 4, value: 200},
            ]);
            init_anim.addHandler(____i39);	              
        var ____i40 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                lens1.set_rotation(value);
            },
            [
        {t: 4, value: 0},
        {t: 5, value: 45},
            ]);
            init_anim.addHandler(____i40);	              
        var ____i41 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                lens2.set_rotation(value);
            },
            [
        {t: 4, value: 0},
        {t: 5, value: -45},
            ]);
            init_anim.addHandler(____i41);	              
        var ____i42 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                lens1.set_rotation(value);
            },
            [
        {t: 5, value: 45},
        {t: 7, value: -45},
            ]);
            init_anim.addHandler(____i42);	              
        var ____i43 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                lens2.set_rotation(value);
            },
            [
        {t: 5, value: -45},
        {t: 7, value: 45},
            ]);
            init_anim.addHandler(____i43);	              
        var ____i44 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                lens1.set_rotation(value);
            },
            [
        {t: 7, value: -45},
        {t: 8, value: 0},
            ]);
            init_anim.addHandler(____i44);	              
        var ____i45 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                lens2.set_rotation(value);
            },
            [
        {t: 7, value: 45},
        {t: 8, value: 0},
            ]);
            init_anim.addHandler(____i45);	              
        var ____r5 = new ms.state.Caller(8,function()
        {
                init_anim.enter_if_loaded();
        });
        init_anim.addHandler(____r5);						  
init_anim2 =
new ms.state.Sequence(
g_sequence_manager);
                init_anim2.start();
        var ____i46 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                banner.alpha(value);
            },
            [
        {t: 0, value: 0},
        {t: 4, value: 100},
            ]);
            init_anim2.addHandler(____i46);	              
        var ____i47 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                lens1.alpha(value);
            },
            [
        {t: 0, value: 0},
        {t: 8, value: 100},
            ]);
            init_anim2.addHandler(____i47);	              
        var ____i48 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                lens2.alpha(value);
            },
            [
        {t: 0, value: 0},
        {t: 8, value: 100},
            ]);
            init_anim2.addHandler(____i48);	              
rain =
new ms.state.Sequence(
g_sequence_manager);
            rain.probablity = 0.5;
	rain.drop = function() 
	{
		if (Math.random() < rain.probablity)
{
var x = 200 + Math.random() * 600;
var y = 200 + Math.random() * 400;
liquid.disturb(x, y);
SoundUtils.play("sounds/water-droplet-1.mp3");
}
	};
        var ____h2 = new ms.state.Every(3, function(t)
        {
                rain.drop();
        });
        rain.addHandler(____h2);	                    
go_up =
new ms.state.Sequence(
g_sequence_manager);
        var ____i49 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                lens1.set_x(value);
            },
            [
        {t: 0, value: 225},
        {t: 2, value: 700},
            ]);
            go_up.addHandler(____i49);	              
        var ____i50 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                lens1.set_y(value);
            },
            [
        {t: 0, value: 225},
        {t: 2, value: 2},
            ]);
            go_up.addHandler(____i50);	              
        var ____i51 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                lens1.set_width(value);
            },
            [
        {t: 0, value: 250},
        {t: 2, value: 31},
            ]);
            go_up.addHandler(____i51);	              
        var ____i52 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                lens1.set_height(value);
            },
            [
        {t: 0, value: 250},
        {t: 2, value: 31},
            ]);
            go_up.addHandler(____i52);	              
        var ____i53 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                lens2.set_x(value);
            },
            [
        {t: 0, value: 220},
        {t: 2, value: 699},
            ]);
            go_up.addHandler(____i53);	              
        var ____i54 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                lens2.set_y(value);
            },
            [
        {t: 0, value: 220},
        {t: 2, value: 1},
            ]);
            go_up.addHandler(____i54);	              
        var ____i55 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                rect1.set_x(value);
            },
            [
        {t: 0, value: 200},
        {t: 2, value: 698},
            ]);
            go_up.addHandler(____i55);	              
        var ____i56 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                rect1.set_y(value);
            },
            [
        {t: 0, value: 200},
        {t: 2, value: 1},
            ]);
            go_up.addHandler(____i56);	              
        var ____i57 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                rect1.set_width(value);
            },
            [
        {t: 0, value: 300},
        {t: 2, value: 35},
            ]);
            go_up.addHandler(____i57);	              
        var ____i58 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                rect1.set_height(value);
            },
            [
        {t: 0, value: 300},
        {t: 2, value: 35},
            ]);
            go_up.addHandler(____i58);	              
        var ____i59 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                lens2.set_width(value);
            },
            [
        {t: 0, value: 260},
        {t: 2, value: 32},
            ]);
            go_up.addHandler(____i59);	              
        var ____i60 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                lens2.set_height(value);
            },
            [
        {t: 0, value: 260},
        {t: 2, value: 32},
            ]);
            go_up.addHandler(____i60);	              
        var ____i61 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                facebook.alpha(value);
            },
            [
        {t: 0, value: 0},
        {t: 2, value: 100},
            ]);
            go_up.addHandler(____i61);	              
        var ____i62 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                twitter.alpha(value);
            },
            [
        {t: 0, value: 0},
        {t: 2, value: 100},
            ]);
            go_up.addHandler(____i62);	              
        var ____i63 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                email.alpha(value);
            },
            [
        {t: 0, value: 0},
        {t: 2, value: 100},
            ]);
            go_up.addHandler(____i63);	              
        var ____i64 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                liquid.alpha(value);
            },
            [
        {t: 0, value: 0},
        {t: 2, value: 50},
            ]);
            go_up.addHandler(____i64);	              
        var ____i65 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                lens1.alpha(value);
            },
            [
        {t: 1, value: 100},
        {t: 2, value: 0},
            ]);
            go_up.addHandler(____i65);	              
        var ____i66 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                lens2.alpha(value);
            },
            [
        {t: 1, value: 100},
        {t: 2, value: 0},
            ]);
            go_up.addHandler(____i66);	              
        var ____i67 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                rect1.alpha(value);
            },
            [
        {t: 1, value: 100},
        {t: 2, value: 0},
            ]);
            go_up.addHandler(____i67);	              
        var ____r6 = new ms.state.Caller(2,function()
        {
                    rain.start();
        });
        go_up.addHandler(____r6);						  
loading_seq =
new ms.state.Sequence(
g_sequence_manager);
                loading_seq.start();
        var ____i68 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                loading.alpha(value);
            },
            [
        {t: 0, value: 0},
        {t: 2, value: 100},
            ]);
            loading_seq.addHandler(____i68);	              
        var ____i69 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                loading.alpha(value);
            },
            [
        {t: 2, value: 100},
        {t: 4, value: 0},
            ]);
            loading_seq.addHandler(____i69);	              
idle_load =
new ms.state.Sequence(
g_sequence_manager);
                idle_load.start();
        var ____h3 = new ms.state.Every(4, function(t)
        {
                    loading_seq.start();
        });
        idle_load.addHandler(____h3);	                    
enterto_in =
new ms.state.Sequence(
g_sequence_manager);
        var ____i70 = new ms.state.Interpolator(
            default_interpolate,
            function(value)
            {
                enter_to.alpha(value);
            },
            [
        {t: 0, value: 0},
        {t: 1, value: 100},
            ]);
            enterto_in.addHandler(____i70);	              
	drawingCanvas.onmousemove = function(ev)
	{
		ui.mousemove(ev.clientX - canvas_position.x, ev.clientY - canvas_position.y);                  
	};
	drawingCanvas.onmousedown = function(ev)
	{
		ui.mousedown(ev.clientX - canvas_position.x, ev.clientY - canvas_position.y);                  
	};
	drawingCanvas.onmouseup = function(ev)
	{
		ui.mouseup(ev.clientX - canvas_position.x, ev.clientY - canvas_position.y);                  
	};		
	ui.events.addListener("mousedown", function(x,y)
	{    
		application.events.dispatch("mousedown", [x, y]);
	});
	ui.events.addListener("mouseup", function(x,y)
	{    
		application.events.dispatch("mouseup", [x, y]);
	});
	ui.events.addListener("mousemove", function(x,y)
	{    
		application.events.dispatch("mousemove", [x, y]);
	});
	ui.events.addListener("click", function(x,y)
	{    
		application.events.dispatch("click", [x, y]);
	});
	ui.events.addListener("drag", function(x,y)
	{    
		application.events.dispatch("drag", [x, y]);
	});
	ui.events.addListener("dragend", function(x,y)
	{    
		application.events.dispatch("dragend", [x, y]);
	});
	ui.events.addListener("keyup", function(keycode)
	{    
		application.events.dispatch("keyup", [keycode]);
	});
	ui.events.addListener("keydown", function(keycode)
	{    
		application.events.dispatch("keydown", [keycode]);
	});
	ui.events.addListener("keypress", function(keycode)
	{    
		application.events.dispatch("keydown", [keycode]);
	});
		    liquid = 
			new ms.ui.RippleEffect(g_ui_root.manager, g_ui_root, null);
        liquid = liquid;
            liquid.set_x(0);
            liquid.set_y(0);
            liquid.set_width(app_width);
            liquid.set_height(app_height);
            liquid.alpha(0);
		    banner = 
			new ms.ui.Image(g_ui_root.manager, g_ui_root, null);
        banner = banner;
            banner.set_x(15);
            banner.set_y(10);
            banner.set_width(231);
            banner.set_height(28);
            banner.alpha(0);
		    loading = 
			new ms.ui.Image(g_ui_root.manager, g_ui_root, null);
        loading = loading;
            loading.set_x(280);
            loading.set_y(550);
            loading.set_width(153);
            loading.set_height(27);
            loading.alpha(0);
		    enter_to = 
			new ms.ui.Image(g_ui_root.manager, g_ui_root, null);
        enter_to = enter_to;
            enter_to.set_x(310);
            enter_to.set_y(551.5);
            enter_to.set_width(92);
            enter_to.set_height(24);
            enter_to.setVisible(false);
	var ev_parent = this;
	enter_to.events.addListener("mousein", function()
	{    
		enter_to.set_width(enter_to.get_width() + 3);
enter_to.set_height(enter_to.get_height() + 3);
	}
	);
		application.are_obj_events = true;
	var ev_parent = this;
	enter_to.events.addListener("mouseout", function()
	{    
		enter_to.set_width(enter_to.get_width() - 3);
enter_to.set_height(enter_to.get_height() - 3);
	}
	);
		application.are_obj_events = true;
	var ev_parent = this;
	enter_to.events.addListener("mousedown", function()
	{    
		enter_to.set_x(enter_to.x + 2);
enter_to.set_y(enter_to.y + 2);
	}
	);
		application.are_obj_events = true;
	var ev_parent = this;
	enter_to.events.addListener("mouseup", function()
	{    
		enter_to.set_x(enter_to.x - 2);
enter_to.set_y(enter_to.y - 2);
init_anim.stop();
init_anim2.stop();
line1.setVisible(false);
line2.setVisible(false);
line3.setVisible(false);
line4.setVisible(false);
rect1.setVisible(true);
linetop.set_x2(905);
go_up.start();
enter_to.setVisible(false);
application.init_planes();
	}
	);
		application.are_obj_events = true;
		    lens1 = 
			new ms.ui.Image(g_ui_root.manager, g_ui_root, null);
        lens1 = lens1;
            lens1.set_x(225);
            lens1.set_y(225);
            lens1.set_width(250);
            lens1.set_height(250);
            lens1.alpha(0);
		    lens2 = 
			new ms.ui.Image(g_ui_root.manager, g_ui_root, null);
        lens2 = lens2;
            lens2.set_x(220);
            lens2.set_y(220);
            lens2.set_width(260);
            lens2.set_height(260);
            lens2.alpha(0);
		    facebook = 
			new social_button(g_ui_root.manager, g_ui_root, null);
        facebook = facebook;
            facebook.set_x(880);
            facebook.set_y(8);
            facebook.set_width(24);
            facebook.set_height(24);
            facebook.alpha(0);
		    twitter = 
			new social_button(g_ui_root.manager, g_ui_root, null);
        twitter = twitter;
            twitter.set_x(845);
            twitter.set_y(8);
            twitter.set_width(24);
            twitter.set_height(24);
            twitter.alpha(0);
		    email = 
			new social_button(g_ui_root.manager, g_ui_root, null);
        email = email;
            email.set_x(810);
            email.set_y(8);
            email.set_width(24);
            email.set_height(24);
            email.alpha(0);
		    btn1 = 
			new ms.ui.Button(g_ui_root.manager, g_ui_root, null, null);
        btn1 = btn1;
            btn1.set_x(0);
            btn1.set_y(300);
            btn1.set_width(64);
            btn1.set_height(64);
            btn1.set_rotation(180);
            btn1.alpha(0);
	var ev_parent = this;
	btn1.events.addListener("click", function()
	{    
		if (application.phase == 3)
{
application.temp_img = application.zoomed;
application.temp_index = application.group_zoomed.find(application.zoomed);
if (application.temp_index == 0)
{
application.temp_index = application.group_zoomed.plane_array.length - 1;
}
application.group_zoomed.plane_array[application.temp_index - 1].plane_anim.stop();
application.group_zoomed.plane_array[application.temp_index - 1].idle_anim.stop();
application.zoomed = application.group_zoomed.plane_array[application.temp_index - 1];
application.temp_img.scale.x = 2;
application.temp_img.scale.y = 2;
application.temp_img.scale.z = 0;
application.temp_img.position.z = 0;
application.temp_img.plane_anim.stop();
application.temp_img.plane_anim.start();
application.temp_img.idle_anim.stop();
application.temp_img.idle_anim.start();
application.zoomed.scale.x = 12;
application.zoomed.scale.y = 12;
application.zoomed.scale.z = 10;
application.zoomed.position.x = -55;
application.zoomed.position.y = 50;
application.zoomed.position.z = 100;
application.zoomed.rotation.y = 0;
}
	}
	);
		application.are_obj_events = true;
		    btn2 = 
			new ms.ui.Button(g_ui_root.manager, g_ui_root, null, null);
        btn2 = btn2;
            btn2.set_x(840);
            btn2.set_y(300);
            btn2.set_width(64);
            btn2.set_height(64);
            btn2.alpha(0);
	var ev_parent = this;
	btn2.events.addListener("click", function()
	{    
		if (application.phase == 3)
{
application.temp_img = application.zoomed;
application.temp_index = application.group_zoomed.find(application.zoomed);
if (application.temp_index == application.group_zoomed.plane_array.length - 2)
{
application.temp_index = -1;
}
application.group_zoomed.plane_array[application.temp_index + 1].plane_anim.stop();
application.group_zoomed.plane_array[application.temp_index + 1].idle_anim.stop();
application.zoomed = application.group_zoomed.plane_array[application.temp_index + 1];
application.temp_img.scale.x = 2;
application.temp_img.scale.y = 2;
application.temp_img.scale.z = 0;
application.temp_img.position.z = 0;
application.temp_img.plane_anim.stop();
application.temp_img.plane_anim.start();
application.temp_img.idle_anim.stop();
application.temp_img.idle_anim.start();
application.zoomed.scale.x = 12;
application.zoomed.scale.y = 12;
application.zoomed.scale.z = 10;
application.zoomed.position.x = -55;
application.zoomed.position.y = 50;
application.zoomed.position.z = 100;
application.zoomed.rotation.y = 0;
}
	}
	);
		application.are_obj_events = true;
		    linetop = 
			new ms.ui.Line(g_ui_root.manager, g_ui_root);
        linetop = linetop;
            linetop.set_x1(5);
            linetop.set_y1(40);
            linetop.set_x2(5);
            linetop.set_y2(40);
            linetop.alpha(60);
            linetop.set_color("white");
		    line1 = 
			new ms.ui.Line(g_ui_root.manager, g_ui_root);
        line1 = line1;
            line1.set_x1(200);
            line1.set_y1(200);
            line1.set_x2(200);
            line1.set_y2(200);
            line1.alpha(60);
            line1.set_color("white");
		    line2 = 
			new ms.ui.Line(g_ui_root.manager, g_ui_root);
        line2 = line2;
            line2.set_x1(500);
            line2.set_y1(200);
            line2.set_x2(500);
            line2.set_y2(200);
            line2.alpha(60);
            line2.set_color("white");
		    line3 = 
			new ms.ui.Line(g_ui_root.manager, g_ui_root);
        line3 = line3;
            line3.set_x1(500);
            line3.set_y1(500);
            line3.set_x2(500);
            line3.set_y2(500);
            line3.alpha(60);
            line3.set_color("white");
		    line4 = 
			new ms.ui.Line(g_ui_root.manager, g_ui_root);
        line4 = line4;
            line4.set_x1(200);
            line4.set_y1(500);
            line4.set_x2(200);
            line4.set_y2(500);
            line4.alpha(60);
            line4.set_color("white");
		    rect1 = 
			new ms.ui.Rectangle(g_ui_root.manager, g_ui_root, null, null, null);
        rect1 = rect1;
            rect1.set_x(200);
            rect1.set_y(200);
            rect1.set_width(300);
            rect1.set_height(300);
            rect1.setVisible(false);
            rect1.alpha(60);
			scene = 
			new THREE.Scene() ;
		camera_1 = 
		new THREE.Camera(45, 1.5, 1, 10000, null) ;	
		active_camera = camera_1;
            camera_1.position.z = 1000;
            application.art_planes = null;
            application.forms_planes = null;
            application.times_planes = null;
            application.art_img = ["a1", "a2", "a3", "a4", "a5", "a6", "a7", "a8", "art_title"];
            application.forms_img = ["f1", "f2", "f3", "f4", "f5", "f6", "f7", "f8", "forms_title"];
            application.times_img = ["t1", "t2", "t3", "t4", "t5", "t6", "t7", "times_title"];
            application.resource = null;
            application.group_zoomed = null;
            application.zoomed = null;
            application.selected = null;
            application.phase = null;
            application.temp_index = null;
            application.temp_img = null;
            application.waiting_for_load = false;
	application.init_planes = function() 
	{
		application.art_planes = 
create_planes_group()
;
application.art_planes.images_set(application.art_img);
application.forms_planes = 
create_planes_group()
;
application.forms_planes.images_set(application.forms_img);
application.times_planes = 
create_planes_group()
;
application.times_planes.images_set(application.times_img);
application.art_planes.set_limits(-550, -350, 250, 0);
application.forms_planes.set_limits(-200, 0, 250, 0);
application.times_planes.set_limits(150, 350, 250, 0);
application.phase = 1;
	};
	application.init_phase_2 = function(group1,group2,group3) 
	{
		application.group_zoomed = group1;
group1.set_individual_scale(2);
group1.set_limits_quickly(-400, 250, 250, 0);
group2.set_individual_scale(0.699999988);
group2.set_limits(-450, -350, -100, -200);
group3.set_individual_scale(0.699999988);
group3.set_limits(150, 250, -100, -200);
	};
	var ev_parent = this;
	application.events.addListener("click", function(x,y)
	{    
		if (application.phase == 1 && application.selected)
{
liquid.disturb(x, y);
application.phase = 2;
if (application.art_planes.find(application.selected) != -1)
{
application.init_phase_2(application.art_planes, application.forms_planes, application.times_planes);
}
if (application.forms_planes.find(application.selected) != -1)
{
application.init_phase_2(application.forms_planes, application.art_planes, application.times_planes);
}
if (application.times_planes.find(application.selected) != -1)
{
application.init_phase_2(application.times_planes, application.art_planes, application.forms_planes);
}
}
else
{
if (application.phase == 2)
{
if (application.selected.parent_ == application.group_zoomed)
{
if (!application.selected.title)
{
liquid.disturb(x, y);
SoundUtils.play("sounds/water-droplet-1.mp3");
application.phase = 3;
application.selected.plane_anim.stop();
application.selected.idle_anim.stop();
application.selected.quickly_anim.stop();
application.selected.show_me.stop();
application.selected.show_me.start();
application.zoomed = application.selected;
}
}
else
{
liquid.disturb(x, y);
SoundUtils.play("sounds/water-droplet-1.mp3");
if (application.art_planes.find(application.selected) != -1)
{
application.init_phase_2(application.art_planes, application.forms_planes, application.times_planes);
}
if (application.forms_planes.find(application.selected) != -1)
{
application.init_phase_2(application.forms_planes, application.art_planes, application.times_planes);
}
if (application.times_planes.find(application.selected) != -1)
{
application.init_phase_2(application.times_planes, application.art_planes, application.forms_planes);
}
}
}
else
{
if (application.phase == 3)
{
if (application.selected == application.zoomed)
{
application.phase = 2;
application.zoomed.back_to.stop();
application.zoomed.back_to.start();
application.zoomed = false;
}
}
}
}
	}
	);
	var ev_parent = this;
	application.events.addListener("init", function()
	{    
		everybody_pack.load();
	}
	);
	var ev_parent = this;
	application.events.addListener("mousemove", function(x,y)
	{    
		if (application.phase == 1)
{
if (application.art_planes.find(application.selected) != -1)
{
liquid.disturb(x, y);
application.art_planes.selected();
}
else
{
application.art_planes.unselected();
}
if (application.forms_planes.find(application.selected) != -1)
{
liquid.disturb(x, y);
application.forms_planes.selected();
}
else
{
application.forms_planes.unselected();
}
if (application.times_planes.find(application.selected) != -1)
{
liquid.disturb(x, y);
application.times_planes.selected();
}
else
{
application.times_planes.unselected();
}
}
	}
	);
if(ui)
{	
	SoundUtils = new ms.ui.SoundUtils();		
	g_ui.fill_background = false;	
}
var event_manager = new ms.event.ThreeEventManager();
document.onmousemove = function(ev)
{
	event_manager.mousemove(ev.clientX, ev.clientY);                  
};
document.onmousedown = function(ev)
{
	event_manager.mousedown(ev.clientX, ev.clientY);                  
};
document.onmouseup = function(ev)
{
	event_manager.mouseup(ev.clientX, ev.clientY);		
};
document.onkeydown = function(ev)
{
	event_manager.keydown(ev.keyCode);                  
};
document.onkeyup = function(ev)
{
	event_manager.keyup(ev.keyCode);                  
};
document.onkeypress = function(ev)
{
	event_manager.keypress(ev.keyCode);                  
};
application.events.dispatch("init", []);
document.body.appendChild( renderer.domElement );
animate();
});
function animate() {
	if(ui)
		drawingCanvas.getContext('2d').clearRect(0,0,1000,800);
	requestAnimationFrame( animate );
	render();
	if(ui)
		ui.draw(drawingCanvas.getContext('2d'));
	}
</script>
</body>
</html>
