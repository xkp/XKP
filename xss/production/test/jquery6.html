<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
Design by Free CSS Templates
http://www.freecsstemplates.org
Released for free under a Creative Commons Attribution 2.5 License
Name       : Refillable  
Description: A two-column, fixed-width design with dark color scheme.
Version    : 1.0
Released   : 20120325
-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>Refillable   by Free CSS Templates</title>
<link href="style.css" rel="stylesheet" type="text/css" media="screen" />
<style type="text/css">
@import "gallery.css";
</style>
</head>
<body>
<div id="wrapper">
	<div id="header">
		<div id="logo">
			<h1><a href="#">Refillable </a></h1>
			<p> design by <a href="http://www.freecsstemplates.org/">Free CSS Templates</a></p>
		</div>
	</div>
	<!-- end #header -->
	<div id="menu">
		<ul>
			<li class="current_page_item"><a href="#">Home</a></li>
			<li><a href="#">Blog</a></li>
			<li><a href="#">Photos</a></li>
			<li><a href="#">About</a></li>
			<li><a href="#">Links</a></li>
			<li><a href="#">Contact</a></li>
		</ul>
	</div>
	<!-- end #menu -->
	<div id="page">
		<div id="page-bgtop">
			<div id="page-bgbtm">
				<div id="content">
					<div id="gallery-wrapper">
						<div id="gallery">
                            <div id="target-container" style="padding: 10px">
				<canvas id="image_container"
			>
				</canvas>
                            </div>
                            <div id="thumbnail-bg">
								<ul class="thumbnails">
									<li><img id="img1" class="active" src="images/img04.jpg" title="Monument Valley" alt="" width="604" height="375" onmouseover="this.style.opacity=1" onmouseout="this.style.opacity=0.4" /></li>
									<li><img id="img2" src="images/img05.jpg" title="Honey Bee" alt="" width="100" height="75"  onmouseover="this.style.opacity=1" onmouseout="this.style.opacity=0.4" /></li>
									<li><img id="img3" src="images/img06.jpg" title="Cup of Coffee" alt="" width="100" height="75"  onmouseover="this.style.opacity=1" onmouseout="this.style.opacity=0.4" /></li>
									<li><img id="img4" src="images/img07.jpg" title="Grand Tetons" alt="" width="100" height="75"  onmouseover="this.style.opacity=1" onmouseout="this.style.opacity=0.4" /></li>
								</ul>
							</div>
							<br class="clear" />
						</div>
						<!-- end -->
					</div>
					<div style="clear: both;">&nbsp;</div>
				</div>
				<!-- end #content -->
				<div id="sidebar">
<div id="__div1">
            <table border="0" >
        <tr  height = "40px"   style="vertical-align:top">
<div id="__div2">
				<input id="preset_apply"
						type="button" 
						name="preset_apply" 
						value="Apply Stack" 
					>
				</input>
</div>
</tr><tr style="vertical-align:top">
<div id="acc1">
            <h3><a href="#">Brightness</a></h3>
<div id="__div3">
				<label id="__label1"
			>
					Level
				</label>
<br/>
<br/>
				<div id="brightness"
			>
				</div>
<br/>
				<label id="__label2"
			>
					Constrast
				</label>
<br/>
<br/>
				<div id="constrast"
			>
				</div>
</div>
            <h3><a href="#">Color</a></h3>
<div id="__div4">
				<label id="__label3"
			>
					Red
				</label>
<br/>
<br/>
				<div id="red"
			>
				</div>
<br/>
				<label id="__label4"
			>
					Blue
				</label>
<br/>
<br/>
				<div id="blue"
			>
				</div>
<br/>
				<label id="__label5"
			>
					Green
				</label>
<br/>
<br/>
				<div id="green"
			>
				</div>
</div>
            <h3><a href="#">HSL</a></h3>
<div id="__div5">
				<label id="__label6"
			>
					Hue
				</label>
<br/>
<br/>
				<div id="hue"
			>
				</div>
<br/>
				<label id="__label7"
			>
					Saturation
				</label>
<br/>
<br/>
				<div id="saturation"
			>
				</div>
<br/>
				<label id="__label8"
			>
					Lightness
				</label>
<br/>
<br/>
				<div id="lightness"
			>
				</div>
</div>
            <h3><a href="#">Noise</a></h3>
<div id="__div6">
				<label id="__label9"
			>
					Amount
				</label>
<br/>
<br/>
				<div id="noise_amount"
			>
				</div>
<br/>
				<label id="__label10"
			>
					Strength
				</label>
<br/>
<br/>
				<div id="noise_strength"
			>
				</div>
<br/>
<br/>
            <div id="mono">
        <input id="mono_input" type="checkbox" name="__div6"/>
        <label id="mono_label" for="mono_input"> Mono </label>
            </div>
</div>
            <h3><a href="#">Blur</a></h3>
<div id="__div7">
				<input id="blur_apply"
						type="button" 
						name="blur_apply" 
						value="Apply" 
					>
				</input>
</div>
</div>
</tr>
            </table>
        </div>
				</div>
				<!-- end #sidebar -->
				<div style="clear: both;">&nbsp;</div>
			</div>
		</div>
	</div>
	<!-- end #page -->
</div>
<div id="footer">
	<p>Copyright (c) 2012 Sitename.com. All rights reserved. Design by <a href="http://www.freecsstemplates.org/">Free CSS Templates</a>.</p>
</div>
<!-- end #footer -->
            <script type="text/javascript" src="../js/jquery-1.7.1.min.js"></script>
            <script type="text/javascript" src="../js/jquery-ui-1.8.18.custom.min.js"></script>
            <script type="text/javascript" src="../js/jquery-idiom.js"></script>
            <link rel="stylesheet" href="../css/ui-lightness/jquery-ui-1.8.18.custom.css"></link>
            <script type="text/javascript" src="../js/resig.js"></script>
            <script type="text/javascript" src="../js/pixastic/pixastic.core.js"></script>
            <script type="text/javascript" src="../js/pixastic/actions.js"></script>
            <script type="text/javascript" src="../js/pixastic/pixastic-manager.js"></script>
            <script type="text/javascript" src="../js/pixastic/pixastic-utils.js"></script>
<style>
#__div2 {height : 40px}
#acc1 {height : 360px}
#image_container {width : 605px;height : 375px}
</style>
<script type="text/javascript">
        var application = {};
	application.set_image = function(id) 
	{
		var image = document.getElementById(id);
var target = document.getElementById("image_container");
var context = target.getContext("2d");
context.drawImage(image, 0, 0, target.width, target.height);
	};
	application.get_image_data = function() 
	{
		var target = document.getElementById("image_container");
var context = target.getContext("2d");
return context.getImageData(0, 0, target.width, target.height);
	};
	application.set_image_data = function(data) 
	{
		var target = document.getElementById("image_container");
var context = target.getContext("2d");
context.putImageData(data, 0, 0);
	};
	application.apply_filter = function(filter) 
	{
		var imgdata = application.get_image_data();
filter.applyToImage(imgdata);
application.set_image_data(imgdata);
	};
		application.init = function() { 
        //some jquery, to lighten the mood
        $("#img1").click(function() { application.set_image("img1"); });
        $("#img2").click(function() { application.set_image("img2"); });
        $("#img3").click(function() { application.set_image("img3"); });
        $("#img4").click(function() { application.set_image("img4"); });
			application.set_image("img2");
//some jquery, to lighten the mood
        $("#img1").click(function() { application.set_image("img1"); });
        $("#img2").click(function() { application.set_image("img2"); });
        $("#img3").click(function() { application.set_image("img3"); });
        $("#img4").click(function() { application.set_image("img4"); });
		}
			var __div1 = $("#__div1");
			var __div2 = $("#__div2");
			var preset_apply = $("#preset_apply").button();
			var acc1 = $("#acc1");
			var __div3 = $("#__div3");
			var __label1 = $("#__label1");
			var __br1 = $("#__br1");
			var __br2 = $("#__br2");
			var brightness = $("#brightness");
			var __br3 = $("#__br3");
			var __label2 = $("#__label2");
			var __br4 = $("#__br4");
			var __br5 = $("#__br5");
			var constrast = $("#constrast");
			var __div4 = $("#__div4");
			var __label3 = $("#__label3");
			var __br6 = $("#__br6");
			var __br7 = $("#__br7");
			var red = $("#red");
			var __br8 = $("#__br8");
			var __label4 = $("#__label4");
			var __br9 = $("#__br9");
			var __br10 = $("#__br10");
			var blue = $("#blue");
			var __br11 = $("#__br11");
			var __label5 = $("#__label5");
			var __br12 = $("#__br12");
			var __br13 = $("#__br13");
			var green = $("#green");
			var __div5 = $("#__div5");
			var __label6 = $("#__label6");
			var __br14 = $("#__br14");
			var __br15 = $("#__br15");
			var hue = $("#hue");
			var __br16 = $("#__br16");
			var __label7 = $("#__label7");
			var __br17 = $("#__br17");
			var __br18 = $("#__br18");
			var saturation = $("#saturation");
			var __br19 = $("#__br19");
			var __label8 = $("#__label8");
			var __br20 = $("#__br20");
			var __br21 = $("#__br21");
			var lightness = $("#lightness");
			var __div6 = $("#__div6");
			var __label9 = $("#__label9");
			var __br22 = $("#__br22");
			var __br23 = $("#__br23");
			var noise_amount = $("#noise_amount");
			var __br24 = $("#__br24");
			var __label10 = $("#__label10");
			var __br25 = $("#__br25");
			var __br26 = $("#__br26");
			var noise_strength = $("#noise_strength");
			var __br27 = $("#__br27");
			var __br28 = $("#__br28");
			var mono = $("#mono").button();
			var __div7 = $("#__div7");
			var blur_apply = $("#blur_apply").button();
			var image_container = $("#image_container");
		preset_apply.click( function() { 
			var image_data = application.get_image_data();
preset_apply.disabled = true;
preset_apply.attr("value", "Applying...");
var __worker1 = new Worker('__asynch1.js');
__worker1.onmessage = function(message) {
if (message.data.id == '__wwmsg1') {
var image_data = message.data.image_data;application.set_image_data(image_data);
preset_apply.disabled = false;
preset_apply.attr("value", "Apply Stack");
}
}
__worker1.postMessage({mypreset : transformer,image : image_data,});
		});
        acc1.accordion({
            fillSpace: true,
        });
        brightness.slider({
		    change: function(event, ui) { 
	     transformer.b_filter.set_brightness(brightness.slider( "option", "value" ));
application.apply_filter(transformer.b_filter);
		    },
	    });
        constrast.slider({
            value: 50,
		    change: function(event, ui) { 
	     transformer.b_filter.constrast = constrast.slider( "option", "value" ) / 100;
application.apply_filter(transformer.b_filter);
		    },
	    });
        red.slider({
            min: -100,
            max: 100,
            value: 0,
		    change: function(event, ui) { 
	     transformer.c_filter.set_red(red.slider( "option", "value" ) / 100);
application.apply_filter(transformer.c_filter);
		    },
	    });
        blue.slider({
            min: -100,
            max: 100,
            value: 0,
		    change: function(event, ui) { 
	     transformer.c_filter.set_blue(blue.slider( "option", "value" ) / 100);
application.apply_filter(transformer.c_filter);
		    },
	    });
        green.slider({
            min: -100,
            max: 100,
            value: 0,
		    change: function(event, ui) { 
	     transformer.c_filter.set_green(green.slider( "option", "value" ) / 100);
application.apply_filter(transformer.c_filter);
		    },
	    });
        hue.slider({
            min: -180,
            max: 180,
            value: 0,
		    change: function(event, ui) { 
	     transformer.hsl_filter.set_hue(hue.slider( "option", "value" ));
application.apply_filter(transformer.hsl_filter);
		    },
	    });
        saturation.slider({
            min: -100,
            max: 100,
            value: 0,
		    change: function(event, ui) { 
	     transformer.hsl_filter.set_saturation(saturation.slider( "option", "value" ));
application.apply_filter(transformer.hsl_filter);
		    },
	    });
        lightness.slider({
            min: -100,
            max: 100,
            value: 0,
		    change: function(event, ui) { 
	     transformer.hsl_filter.set_lightness(lightness.slider( "option", "value" ));
application.apply_filter(transformer.hsl_filter);
		    },
	    });
        noise_amount.slider({
		    change: function(event, ui) { 
	     transformer.n_filter.set_amount(noise_amount.slider( "option", "value" ) / 100);
application.apply_filter(transformer.n_filter);
		    },
	    });
        noise_strength.slider({
		    change: function(event, ui) { 
	     transformer.n_filter.set_strength(noise_strength.slider( "option", "value" ) / 100);
application.apply_filter(transformer.n_filter);
		    },
	    });
		mono.change( function() { 
			transformer.n_filter.set_mono(mono.value);
application.apply_filter(transformer.n_filter);
		});
		blur_apply.click( function() { 
			application.apply_filter(transformer.blur_filter);
		});
	    var transformer = new pixastic.Preset() ;
			transformer.b_filter = new pixastic.Brightness(
		50,0.5,null, transformer);		
		if(!transformer.filters)
			transformer.filters = [];
		transformer.filters.push(transformer.b_filter);
			transformer.hsl_filter = new pixastic.HSL(
		40,null,null,null, transformer);		
		if(!transformer.filters)
			transformer.filters = [];
		transformer.filters.push(transformer.hsl_filter);
			transformer.c_filter = new pixastic.ColorAdjust(
		null,null,null,null, transformer);		
		if(!transformer.filters)
			transformer.filters = [];
		transformer.filters.push(transformer.c_filter);
			transformer.n_filter = new pixastic.Noise(
		null,null,null,null, transformer);		
		if(!transformer.filters)
			transformer.filters = [];
		transformer.filters.push(transformer.n_filter);
			transformer.blur_filter = new pixastic.Blur(
		null, transformer);		
		if(!transformer.filters)
			transformer.filters = [];
		transformer.filters.push(transformer.blur_filter);
                    if (application.init)
                        application.init();
</script>
</body>
</html>
